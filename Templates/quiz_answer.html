{% extends "layout.html" %}
{% block content %}


<!-- Bootstrap & custom styling -->
{% block styles %} 
  <link rel="stylesheet" href="{{ url_for('static', filename='css/quiz.css') }}">
{% endblock %}


<div id="quiz-container" class="container mt-4" data-question-id="{{ question_id }}">
  <!--Progress Bar-->
  <div class="progress my-3" style="height: 24px;">
    <div class="progress-bar bg-gradient-green"
         role="progressbar"
         style="width: {{ progress_percent }}%;"
         aria-valuemin="0" aria-valuemax="100">
      {{ progress_percent }}%
    </div>
  </div>
  
  {% block question_body %}
    {% include "partials/quiz_" ~ question_id ~ "_body.html" %}
  {% endblock %}

  {% block feedback_body %}
  <!-- Correct Answer row -->
  <div id="correct-answers" class="row text-center mb-4 d-none">
    {% for correct_value in correct_answers %}
      <div class="col">
        <div class="correct-value border rounded py-2 bg-light fw-bold">{{ correct_value }}</div>
      </div>
    {% endfor %}
  </div>
  <!-- Feedback -->
  <p class="fs-5 fw-bold text-center">
    {{ '✅ Correct!' if is_correct else '❌ Try again next time!' }}
  </p>

  <!-- Show Answer / Next -->
  <div class="text-center mb-3">
    <button id="show-answer-btn" class="btn btn-outline-primary">Show Answer</button>
    <button id="next-btn" class="btn btn-success">Next</button>
  </div>
  {% endblock %}
</div>

<!-- jQuery + custom JS -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="{{ url_for('static', filename='js/quiz_core.js') }}"></script>
{% endblock %}
